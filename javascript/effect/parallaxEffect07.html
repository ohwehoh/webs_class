<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>패럴랙스 효과</title>
  <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@900&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      /* box-sizing: border-box; */
    }

    a {
      color: #fff;
      text-decoration: none;
    }

    body {
      background-color: #222;
      color: #fff;
      font-family: "NexonLv1Gothic";
      font-weight: 300;
    }

    #parallax__title {
      padding: 20px;
    }

    #parallax__title h1 {
      font-size: 30px;
      border-bottom: 1px dashed #fff;
      margin-bottom: 10px;
      padding-bottom: 5px;
      font-weight: 400;
      display: inline-block;
    }

    #parallax__title p {
      font-size: 16px;
    }

    #parallax__title ul {
      margin-top: 10px;
    }

    #parallax__title li {
      display: inline;
    }

    #parallax__title li a {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 1px dashed #fff;
      display: inline-block;
      text-align: center;
      line-height: 20px;
      font-size: 12px;
    }

    #parallax__title li.active a {
      background: #fff;
      color: #000;
    }

    #parallax__nav {
      position: fixed;
      right: 20px;
      top: -200px;
      z-index: 1000;
      background-color: rgba(0, 0, 0, 0.4);
      padding: 15px 20px;
      border-radius: 50px;
      transition: top 0.3s ease-in-out;
    }

    #parallax__nav.show {
      top: 20px;
    }

    #parallax__nav li {
      list-style: none;
      display: inline;
    }

    #parallax__nav li a {
      display: inline-block;
      padding: 5px 20px;
      text-align: center;
      line-height: 30px;
    }

    #parallax__nav li.active a {
      background: #fff;
      color: black;
      border-radius: 10%;
      line-height: 30px;
    }

    #parallax__cont {
      max-width: 1600px;
      width: 98%;
      margin: 0 auto;
      /* background-color: rgba(255,255,255,0.1); */
    }

    .content__item {
      width: 1000px;
      max-width: 70vw;
      margin: 30vw auto;
      /* background-color: rgba(255,255,255,0.3); */
      text-align: left;
      margin-right: 0;
      position: relative;
      padding-top: 15vw;
    }

    .content__item:nth-child(even) {
      margin-left: 0;
      text-align: right;
    }

    .content__item:nth-child(even) .content__item__num {
      left: auto;
      right: -5vw;
    }

    .content__item__num {
      font-family: "Lato";
      font-weight: 100;
      font-size: 35vw;
      position: absolute;
      left: -5vw;
      top: -13vw;
      opacity: 0.07;
    }

    .content__item__title {
      padding-bottom: 5px;
      font-weight: 400;
    }

    .content__item__imgWrap {
      width: 100%;
      padding-bottom: 56.25%;
      position: relative;
      overflow: hidden;
    }

    .content__item__img {
      position: absolute;
      left: -5%;
      top: -5%;
      width: 110%;
      height: 110%;
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;
      filter: saturate(0%);
      transition: all 1s;
    }

    .content__item__img:hover {
      filter: saturate(100%);
      transform: scale(1.025);
    }

    .content__item:nth-child(1) .content__item__img {
      background-image: url(img/img1.jpg);
    }

    .content__item:nth-child(2) .content__item__img {
      background-image: url(img/img2.jpg);
    }

    .content__item:nth-child(3) .content__item__img {
      background-image: url(img/img3.jpg);
    }

    .content__item:nth-child(4) .content__item__img {
      background-image: url(img/img4.jpg);
    }

    .content__item:nth-child(5) .content__item__img {
      background-image: url(img/img5.jpg);
    }

    .content__item:nth-child(6) .content__item__img {
      background-image: url(img/img6.jpg);
    }

    .content__item:nth-child(7) .content__item__img {
      background-image: url(img/img7.jpg);
    }

    .content__item:nth-child(8) .content__item__img {
      background-image: url(img/img8.jpg);
    }

    .content__item:nth-child(9) .content__item__img {
      background-image: url(img/img9.jpg);
    }

    .content__item__desc {
      position: relative;
      font-size: 4vw;
      margin-top: -5vw;
      margin-left: -4vw;
      z-index: 100;
      word-break: keep-all;
      line-height: 1.6;
      /* text-shadow: 5px 5px 10px rgba(0, 0, 0, 0.4); */
    }

    .content__item:nth-child(even) .content__item__desc {
      margin-left: auto;
      margin-right: -4vw;
    }

    /* info */
    .scrollTop {
      position: fixed;
      left: 20px;
      bottom: 20px;
      z-index: 1000;
      background: rgba(0, 0, 0, 0.4);
      color: #fff;
      padding: 10px 30px;
      border-radius: 50px;
    }

    .scrollInfo {
      position: fixed;
      left: 20px;
      bottom: 60px;
      z-index: 1000;
      background: rgba(0, 0, 0, 0.4);
      color: #fff;
      padding: 10px 20px;
      border-radius: 10px;
    }

    .scrollInfo li {
      list-style: none;
    }

    /* option */
    .reveal>span,
    .reveal>div {
      opacity: 0;
    }

    .reveal.show>span,
    .reveal.show>div {
      animation: opacity 1s linear forwards;
    }

    .reveal {
      position: relative;
    }

    .reveal::before {
      content: "";
      position: absolute;
      right: 0;
      top: 0;
      width: 0;
      height: 100%;
      background: #fff;
      z-index: 1;
    }

    /* .reveal.reveal-TTB::before,
        .reveal.reveal-BTT::before {
            content: '';
            position: absolute;
            right: 0; top: 0;
            width: 100%; height: 0;
            background: #fff;
            z-index: 1;
        } */

    .reveal.reveal-two::after {
      content: "";
      position: absolute;
      right: 0;
      top: 0;
      width: 0;
      height: 100%;
      background: rgb(255, 238, 0);
      z-index: 1;
    }

    /* 기본값 */
    .reveal.show::before {
      animation: reveal 1s;
    }

    .reveal.reveal-RTL.show::before {
      animation: reveal-RTL 1s;
    }

    .reveal.reveal-TTB.show::before {
      animation: reveal-TTB 1s;
    }

    .reveal.reveal-BTT.show::before {
      animation: reveal-BTT 1s;
    }

    /* 두가지 */
    .reveal.show::after {
      animation: reveal 1000ms 300ms;
    }

    .reveal.reveal-RTL.show::after {
      animation: reveal-RTL 1000ms 300ms;
    }

    .reveal.reveal-TTB.show::after {
      animation: reveal-TTB 1000ms 300ms;
    }

    .reveal.reveal-BTT.show::after {
      animation: reveal-BTT 1000ms 300ms;
    }

    @keyframes opacity {
      0% {
        opacity: 0;
      }

      60% {
        opacity: 0;
      }

      70% {
        opacity: 1;
      }

      100% {
        opacity: 1;
      }
    }

    @keyframes reveal {
      0% {
        width: 0;
        left: 0;
      }

      50% {
        width: 100%;
        left: 0;
      }

      80% {
        width: 100%;
        left: 0;
      }

      100% {
        width: 0;
        left: 100%;
      }
    }

    @keyframes reveal-RTL {
      0% {
        width: 0;
        right: 0;
      }

      50% {
        width: 100%;
        right: 0;
      }

      80% {
        width: 100%;
        right: 0;
      }

      100% {
        width: 0;
        right: 100%;
      }
    }

    @keyframes reveal-TTB {
      0% {
        width: 100%;
        height: 0;
        top: 0;
      }

      50% {
        width: 100%;
        height: 100%;
        top: 0;
      }

      80% {
        width: 100%;
        height: 100%;
        top: 0;
      }

      100% {
        width: 100%;
        height: 0;
        top: 100%;
      }
    }

    @keyframes reveal-BTT {
      0% {
        width: 100%;
        height: 0;
        top: auto;
        bottom: 0;
      }

      50% {
        width: 100%;
        height: 100%;
        top: auto;
        bottom: 0;
      }

      80% {
        width: 100%;
        height: 100%;
        top: auto;
        bottom: 0;
      }

      100% {
        width: 100%;
        height: 0;
        top: auto;
        bottom: 100%;
      }
    }
  </style>
</head>

<body>
  <header id="parallax__title">
    <h1><a href="parallaxEffect.html">Javascript Parallax Effect07</a></h1>
    <p>패럴랙스 스크롤링 효과 - 리빌 효과</p>
    <ul>
      <li><a href="parallaxEffect01.html">1</a></li>
      <li><a href="parallaxEffect02.html">2</a></li>
      <li><a href="parallaxEffect03.html">3</a></li>
      <li><a href="parallaxEffect04.html">4</a></li>
      <li><a href="parallaxEffect05.html">5</a></li>
      <li><a href="parallaxEffect06.html">6</a></li>
      <li class="active"><a href="parallaxEffect07.html">7</a></li>
      <li><a href="parallaxEffect08.html">8</a></li>
      <li><a href="parallaxEffect09.html">9</a></li>
    </ul>
  </header>
  <!-- //parallax__title -->

  <!-- main -->
  <main id="parallax__cont">
    <div id="contents">
      <section id="section1" class="content__item">
        <span class="content__item__num">01</span>
        <h2 class="content__item__title">Section1</h2>
        <figure class="content__item__imgWrap reveal">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal">
          지식에 투자하는 것이 가장 이윤이 높다.
        </p>
      </section>
      <!-- //section1 -->

      <section id="section2" class="content__item">
        <span class="content__item__num">02</span>
        <h2 class="content__item__title">Section2</h2>
        <figure class="content__item__imgWrap reveal reveal-RTL">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-RTL">
          질병은 입을 쫓아 들어가고 화근은 입을 좇아 나온다.
        </p>
      </section>
      <!-- //section2 -->

      <section id="section3" class="content__item">
        <span class="content__item__num">03</span>
        <h2 class="content__item__title">Section3</h2>
        <figure class="content__item__imgWrap reveal reveal-TTB">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-TTB">
          신은 행동하지 않는 자는 결코 돕지 않는다.
        </p>
      </section>
      <!-- //section3 -->

      <section id="section4" class="content__item">
        <span class="content__item__num">04</span>
        <h2 class="content__item__title">Section4</h2>
        <figure class="content__item__imgWrap reveal reveal-BTT">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-BTT">
          지혜는 듣는 데서 오고 후회는 말하는 데서 온다.
        </p>
      </section>
      <!-- //section4 -->

      <section id="section5" class="content__item">
        <span class="content__item__num">05</span>
        <h2 class="content__item__title">Section5</h2>
        <figure class="content__item__imgWrap reveal reveal-two">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-two">
          타인에 대한 존경은 처세법의 제일 조건이다.
        </p>
      </section>
      <!-- //section5 -->

      <section id="section6" class="content__item">
        <span class="content__item__num">06</span>
        <h2 class="content__item__title">Section6</h2>
        <figure class="content__item__imgWrap reveal reveal-two reveal-RTL">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-two reveal-RTL">
          우리는 누군가를 기쁘게 한다는 희망 위에서 산다.
        </p>
      </section>
      <!-- //section6 -->

      <section id="section7" class="content__item">
        <span class="content__item__num">07</span>
        <h2 class="content__item__title">Section7</h2>
        <figure class="content__item__imgWrap reveal reveal-two reveal-BTT">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-two" data-delay="1000">
          안심하면서 먹는 한 조각의 빵이 근심하면서 먹는 잔치보다 낫다.
        </p>
      </section>
      <!-- //section7 -->

      <section id="section8" class="content__item">
        <span class="content__item__num">08</span>
        <h2 class="content__item__title">Section8</h2>
        <figure class="content__item__imgWrap">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal reveal-two reveal-TTB">
          게으름은 쇠붙이의 녹과 같다. 노동보다 더 심신을 소모시킨다.
        </p>
      </section>
      <!-- //section8 -->

      <section id="section9" class="content__item">
        <span class="content__item__num">09</span>
        <h2 class="content__item__title">Section9</h2>
        <figure class="content__item__imgWrap">
          <div class="content__item__img"></div>
        </figure>
        <p class="content__item__desc reveal">
          산다는 것은 호흡하는 것이 아니라 행동하는 일이다.
        </p>
      </section>
      <!-- //section9 -->
    </div>
  </main>
  <!-- //main -->

  <!-- info -->
  <div class="scrollTop">scrollTop : <span>0</span>px</div>
  <!-- //info -->

  <!-- script -->
  <script src="js/gsap.min.js"></script>
  <script>
    //만약에 reveal 클래스가 있는데
    //글씨를 span으로 감싸주고
    //글씨를 다시 넣어
    document
      .querySelectorAll(".content__item__desc.reveal")
      .forEach((el, i) => {
        if (!el.querySelector("span")) {
          const text = el.innerText;
          el.innerHTML = `<span>${text}</span>`;
        }
      });

    function scroll() {
      //재귀함수를 이용한 스크롤값 구하기
      // let scrollTop = window.screenY || window.pageYOffset || document.documentElement.scrollTop;
      let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      const reveal = document.querySelectorAll(".reveal");

      reveal.forEach((elem) => {
        let revealOffset = elem.offsetTop + elem.parentElement.offsetTop;
        let revealDelay = elem.dataset.delay;

        // if(scrollTop >= revealOffset - window.innerHeight/2){
        //     elem.classList.add("show");
        // }

        if (scrollTop >= revealOffset - window.innerHeight / 2) {
          if (revealDelay == undefined) {
            elem.classList.add("show");
          } else {
            setTimeout(() => {
              elem.classList.add("show");
            }, revealDelay);
          }
        }
      });

      document.querySelector(".scrollTop span").innerText = scrollTop;
      requestAnimationFrame(scroll);
    }
    scroll();
  </script>
</body>

</html>